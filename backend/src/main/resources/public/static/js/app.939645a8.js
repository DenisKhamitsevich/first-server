(function(){"use strict";var n={1072:function(n,e,t){var o=t(9242),r=t(3396);function s(n,e){const t=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(t)}var a=t(89);const i={},l=(0,a.Z)(i,[["render",s]]);var u=l,c=t(2483);const p={class:"home"},d=(0,r._)("h1",null,"Welcome to First Task Server demo application!",-1),g=(0,r.Uk)("Login");function h(n,e){const t=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",p,[d,(0,r.Wm)(t,{to:"/login"},{default:(0,r.w5)((()=>[g])),_:1})])}const f={},m=(0,a.Z)(f,[["render",h]]);var w=m;const v=n=>((0,r.dD)("data-v-520350a2"),n=n(),(0,r.Cn)(),n),_=v((()=>(0,r._)("h1",null,"Login",-1))),y={id:"login"},k={class:"no_account_paragraph"},b=(0,r.Uk)("No account? "),O=(0,r.Uk)("Register"),U={key:0,class:"error"},j=v((()=>(0,r._)("p",{class:"email_paragraph"},"Email",-1))),x=v((()=>(0,r._)("p",{class:"password_paragraph"},"Password",-1))),D=v((()=>(0,r._)("p",null,[(0,r._)("input",{type:"submit",class:"login",value:"Sign In"})],-1))),C=(0,r.Uk)("Home");function S(n,e,t,s,a,i){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[_,(0,r._)("div",y,[(0,r._)("p",k,[b,(0,r.Wm)(l,{to:"/register",class:"register"},{default:(0,r.w5)((()=>[O])),_:1})]),(0,r._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)((n=>i.LoginUser()),["prevent"]))},[a.error?((0,r.wg)(),(0,r.iD)("p",U,"Wrong credentials!")):(0,r.kq)("",!0),j,(0,r.wy)((0,r._)("input",{name:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=n=>a.login=n),class:"email",id:"email",required:""},null,512),[[o.nr,a.login]]),x,(0,r.wy)((0,r._)("input",{name:"password",type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),class:"password",required:""},null,512),[[o.nr,a.password]]),D],32),(0,r.Wm)(l,{to:"/",class:"home register"},{default:(0,r.w5)((()=>[C])),_:1})])],64)}var q=t(6265),W=t.n(q),L=t(5269),T=t.n(L),V={data(){return{login:"",password:"",error:!1,responseData:[]}},methods:{LoginUser(){const n=JSON.stringify({login:this.login,password:this.password}),e={headers:{"Content-Type":"application/json"}};W().post("api/account/signin",n,e).then((n=>{const e=n.data;T().set("token",e.data.token),this.$router.push("/main")})).catch((n=>{this.error=!0,console.log(n.response.status)}))}}};const H=(0,a.Z)(V,[["render",S],["__scopeId","data-v-520350a2"]]);var M=H;const P=n=>((0,r.dD)("data-v-f3442a3a"),n=n(),(0,r.Cn)(),n),R=P((()=>(0,r._)("h1",null,"Register",-1))),Z={class:"have_account_paragraph"},N=(0,r.Uk)("Already have account? "),Y=(0,r.Uk)("Login"),I={key:0,class:"error"},J={key:1,class:"successful"},A=P((()=>(0,r._)("p",null,[(0,r._)("input",{type:"submit",value:"Sign Up",class:"register"})],-1))),E=(0,r.Uk)("Home");function F(n,e,t,s,a,i){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[R,(0,r._)("div",null,[(0,r._)("p",Z,[N,(0,r.Wm)(l,{to:"/login",class:"login"},{default:(0,r.w5)((()=>[Y])),_:1})]),(0,r._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)((n=>i.Register()),["prevent"]))},[a.error?((0,r.wg)(),(0,r.iD)("p",I,"Account with this email already exists!")):(0,r.kq)("",!0),a.successful?((0,r.wg)(),(0,r.iD)("p",J,"Your account has been created successfully, you can now log in!")):(0,r.kq)("",!0),(0,r._)("p",null,[(0,r.wy)((0,r._)("input",{type:"email",placeholder:"email",class:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=n=>a.login=n),required:""},null,512),[[o.nr,a.login]])]),(0,r._)("p",null,[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"Password",class:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),minlength:"8",maxlength:"50",required:""},null,512),[[o.nr,a.password]])]),A],32),(0,r.Wm)(l,{to:"/",class:"home"},{default:(0,r.w5)((()=>[E])),_:1})])],64)}var $={data(){return{login:"",password:"",error:!1,successful:!1}},methods:{Register(){const n=JSON.stringify({login:this.login,password:this.password}),e={headers:{"Content-Type":"application/json"}};W().post("api/account/signup",n,e).then((()=>{this.successful=!0,this.error=!1})).catch((n=>{this.error=!0,this.successful=!1,console.log(n.response.status)}))}}};const z=(0,a.Z)($,[["render",F],["__scopeId","data-v-f3442a3a"]]);var K=z;const B=(0,r._)("p",null,"Main View, nigga!",-1),G=(0,r._)("div",{id:"map2"},null,-1),Q=(0,r._)("div",{id:"map",style:{width:"600px",height:"400px"}},null,-1);function X(n,e,t,o,s,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[B,G,Q],64)}var nn=t(4855),en={data(){return{login:"",password:"",error:!1,responseData:[]}},async mounted(){const n={apiKey:"5e899c8c-6332-4541-89fe-3a98ecd486d6",lang:"ru_RU",coordorder:"latlong",enterprise:!1,version:"2.1"};await(0,nn.xk)({settings:n,debug:!0}),ymaps.ready((function(){ymaps.geolocation.get().then((n=>{const[e,t]=n.geoObjects.position;let o=new ymaps.Map("map",{center:[e,t],zoom:7});console.log(o)})).catch((n=>{console.log("Ошибка: "+err)}))}))},methods:{LoginUser(){const n=JSON.stringify({login:this.login,password:this.password}),e={headers:{"Content-Type":"application/json"}};W().post("api/account/signin",n,e).then((n=>{const e=n.data;VueCookies.set("token",e.data.token),this.$router.push("/main")})).catch((n=>{this.error=!0,console.log(n.response.status)}))}}};const tn=(0,a.Z)(en,[["render",X]]);var on=tn;const rn=[{path:"/",name:"home",component:w},{path:"/login",name:"login",component:M},{path:"/register",name:"register",component:K},{path:"/main",name:"main",component:on}],sn=(0,c.p7)({history:(0,c.PO)("/"),routes:rn});var an=sn;(0,o.ri)(u).use(an).mount("#app")}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={exports:{}};return n[o](s,s.exports,t),s.exports}t.m=n,function(){var n=[];t.O=function(e,o,r,s){if(!o){var a=1/0;for(c=0;c<n.length;c++){o=n[c][0],r=n[c][1],s=n[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||a>=s)&&Object.keys(t.O).every((function(n){return t.O[n](o[l])}))?o.splice(l--,1):(i=!1,s<a&&(a=s));if(i){n.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=n.length;c>0&&n[c-1][2]>s;c--)n[c]=n[c-1];n[c]=[o,r,s]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,o){var r,s,a=o[0],i=o[1],l=o[2],u=0;if(a.some((function(e){return 0!==n[e]}))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(l)var c=l(t)}for(e&&e(o);u<a.length;u++)s=a[u],t.o(n,s)&&n[s]&&n[s][0](),n[s]=0;return t.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(1072)}));o=t.O(o)})();
//# sourceMappingURL=app.939645a8.js.map